<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AC Parceria - Portal de Transporte</title>

  <!-- PWA -->
  <meta name="theme-color" content="#b00000" />
  <link rel="manifest" href="manifest.json">

  <!-- Fonte Inter (correta) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#b00000;
      --primary-dark:#8a0000;
      --bg:#ffffff;
      --card:#f3f3f3;
      --text:#222;
      --radius:12px;
    }

    body{
      margin:0;
      font-family:"Inter",Arial,Helvetica,sans-serif;
      background:var(--bg);
      color:var(--text);
      transition:background .25s,color .25s;
    }

    /* HEADER */
    header{
      background:var(--primary);
      color:#fff;
      padding:14px 16px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    header img.logo{height:44px}

    .container{max-width:720px;margin:18px auto;padding:16px}

    /* WELCOME */
    .welcome{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      padding:28px;
    }

    .avatar{
      width:160px;
      border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.12);
    }

    .btn{
      display:block;
      width:100%;
      padding:14px;
      border-radius:10px;
      background:var(--primary);
      color:#fff;
      text-decoration:none;
      text-align:center;
      font-weight:700;
      margin-bottom:12px;
      cursor:pointer;
      border:0;
    }
    .btn.secondary{background:#333}

    .card{
      background:var(--card);
      padding:14px;
      border-radius:10px;
    }

    .routes{
      display:grid;
      gap:10px;
    }
    .route-item{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:12px;
      border-radius:10px;
      background:#fff;
      border:1px solid rgba(0,0,0,.05);
    }

    /* MODAL */
    .modal-back{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.5);
      display:none;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .modal{
      background:var(--bg);
      max-width:520px;
      width:100%;
      padding:18px;
      border-radius:12px;
      position:relative;
    }

    .close{
      background:#eee;
      border:0;
      padding:6px 8px;
      border-radius:8px;
      cursor:pointer;
      position:absolute;
      top:10px;
      right:10px;
    }

    /* DARK MODE */
    body.dark{background:#0e0e10;color:#e8e8e8}
    body.dark .card{background:#121217}
    body.dark .modal{background:#111114}
    body.dark header{background:var(--primary-dark)}
    body.dark .btn{background:var(--primary-dark)}

    @media(min-width:800px){
      .routes{grid-template-columns:1fr 1fr}
      .welcome{flex-direction:row;gap:24px;text-align:left}
    }
  </style>
</head>
<body>

<header>
  <img src="logo.jpg" alt="AC Logo" class="logo">
  <h1 style="font-size:16px;margin:0">AC PARCERIA ‚Äî Portal de Transporte</h1>
</header>

<div class="container" style="display:flex;justify-content:space-between">
  <button id="installBtn" class="btn secondary" style="width:auto;display:none;padding:8px 12px">üì• Instalar</button>
  <button id="darkToggle" class="btn secondary" style="width:auto;padding:8px 12px">üåô</button>
</div>

<main class="container">

  <!-- WELCOME -->
  <section id="welcome">
    <div class="welcome">
      <img src="avatar.png" class="avatar">
      <div style="max-width:520px">
        <h2>Bem-vindo ao Portal de Transporte</h2>
        <p>Rotas, controle di√°rio e avisos oficiais da AC Parceria.</p>

        <p class="card">
          ‚è±Ô∏è <strong>Importante:</strong> O formul√°rio deve ser preenchido
          <strong>2√ó ao dia</strong> ‚Äî entrada e sa√≠da.
        </p>

        <button class="btn" onclick="enterApp()">Entrar no Portal</button>
      </div>
    </div>
  </section>

  <!-- MENU -->
  <section id="mainMenu" style="display:none">
    <h2>Menu</h2>

    <div class="card" style="margin-bottom:12px">
      <a class="btn" href="https://forms.gle/UDniKxPqcMKGUhFQA" target="_blank">
        üìã Controle de Ve√≠culo (Entrada / Sa√≠da)
      </a>
      <small>Obrigat√≥rio todos os dias.</small>
    </div>

    <div class="card" style="margin-bottom:12px">
      <button class="btn" onclick="openModal('avisosModalBack')">üì¢ Avisos</button>
    </div>

    <div class="card" style="margin-bottom:12px">
      <button class="btn" onclick="openSection('rotasSection')">üó∫Ô∏è Selecionar Rota</button>
    </div>

    <div class="card">
      <button class="btn secondary" onclick="openModal('ajudaModalBack')">‚ùì Ajuda</button>
    </div>
  </section>

  <!-- ROTAS -->
  <section id="rotasSection" style="display:none">
    <h2>Rotas</h2>

    <div class="routes">

      <div class="route-item">
        <div>
          <strong>ROTA 01 ‚Äî Base</strong><br>
          <small>Dura√ß√£o: 30min</small>
        </div>
        <a class="btn" style="padding:8px 12px" href="https://maps.app.goo.gl/Z199k9ygiooHTh3p6" target="_blank">Abrir</a>
      </div>

    </div>

    <button class="btn" style="margin-top:14px" onclick="backToMenu()">Voltar</button>
  </section>
</main>

<!-- MODAIS -->
<div id="avisosModalBack" class="modal-back">
  <div class="modal">
    <button class="close">‚úï</button>
    <h3>Avisos Importantes</h3>
    <ul>
      <li>Preencher o formul√°rio 2√ó ao dia.</li>
      <li>Manter comunica√ß√£o com a gest√£o.</li>
      <li>Relatar qualquer irregularidade.</li>
    </ul>
  </div>
</div>

<div id="ajudaModalBack" class="modal-back">
  <div class="modal">
    <button class="close">‚úï</button>
    <h3>Ajuda</h3>
    <p>Explica√ß√£o dos bot√µes e orienta√ß√µes gerais.</p>
  </div>
</div>

<script>
/* Navega√ß√£o */
function enterApp(){
  welcome.style.display="none";
  mainMenu.style.display="block";
}
function openSection(id){
  mainMenu.style.display="none";
  rotasSection.style.display="block";
  scrollTo(0,0);
}
function backToMenu(){
  rotasSection.style.display="none";
  mainMenu.style.display="block";
}

/* MODAL */
document.querySelectorAll('.modal-back').forEach(back=>{
  back.addEventListener('click',e=>{
    if(e.target===back) back.style.display='none';
  });
});
document.querySelectorAll('.close').forEach(btn=>{
  btn.onclick=()=> btn.parentElement.parentElement.style.display='none';
});
function openModal(id){
  document.getElementById(id).style.display='flex';
}

/* DARK MODE */
darkToggle.onclick=()=>{
  document.body.classList.toggle('dark');
  localStorage.setItem('themeDark',document.body.classList.contains('dark'));
};
if(localStorage.getItem('themeDark')==="true"){
  document.body.classList.add('dark');
}

/* PWA Install */
let deferredPrompt;
window.addEventListener('beforeinstallprompt',e=>{
  e.preventDefault();
  deferredPrompt=e;
  installBtn.style.display="inline-block";
});
installBtn.onclick=async()=>{
  if(!deferredPrompt) return;
  deferredPrompt.prompt();
  deferredPrompt=null;
  installBtn.style.display="none";
};

/* Register SW */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
